function start(){if("undefined"!=typeof Storage&&null!=localStorage.save){var a=localStorage.save.split(",");score=parseFloat(a[0]),exponent=parseFloat(a[1]),ws[0].angle=parseFloat(a[2]),ws[1].angle=parseFloat(a[3]),ws[2].angle=parseFloat(a[4]),ws[3].angle=parseFloat(a[5]),ws[4].angle=parseFloat(a[6]),ws[5].angle=parseFloat(a[7]),ws[0].rn=parseFloat(a[8]),ws[1].rn=parseFloat(a[9]),ws[2].rn=parseFloat(a[10]),ws[3].rn=parseFloat(a[11]),ws[4].rn=parseFloat(a[12]),ws[5].rn=parseFloat(a[13]),ws[0].speed=parseFloat(a[14]),ws[1].speed=parseFloat(a[15]),ws[2].speed=parseFloat(a[16]),ws[3].speed=parseFloat(a[17]),ws[4].speed=parseFloat(a[18]),ws[5].speed=parseFloat(a[19])}}function gameLoop(){ctx.font="40px "+font,ctx.textAlign="center",ctx.fillStyle="#FFF",ctx.lineWidth=15,c.style.cursor="default";for(var a=0;a<ws.length;a++)ws[a].update();perSec=1;for(var a=0;a<ws.length;a++)perSec*=ws[a].rn/100+1;totalPerSec=Math.pow(perSec,exponent/100+1),ctx.font="40px "+font,ctx.textAlign="center",ctx.fillStyle="#FFF",ctx.fillText(getMax(),c.width/2,c.height/2+12),ctx.fillText(output(score),c.width/2,c.height-12);for(var a=1;a<ws.length;a++)ws[a].rn>0&&ctx.fillText("x",c.width*(2*a+1)/14,36);exponent>0&&(ctx.font="24px "+font,ctx.textAlign="right",ctx.fillText("+"+output(perSec),.8*c.width,80),ctx.font="16px "+font,ctx.textAlign="left",ctx.fillText(output(exponent/100+1),.8*c.width,64)),ctx.font="24px "+font,ctx.textAlign="right",ctx.fillText("+"+output(totalPerSec)+" / rev",.9*c.width,112),ctx.textAlign="center";for(var a=0;a<ws.length;a++)ctx.fillStyle=ws[a].color,ws[a].rn>0&&ctx.fillText(output(ws[a].rn/100+1),c.width*(a+1)/7,36);for(var a=0;a<btns.length;a++)btns[a].update();if(sH){var b=2;ctx.fillStyle="#999",ctx.fillRect(c.width-110-b,c.height-50-b,100+b+b,40+b+b),c.style.cursor="pointer"}ctx.fillStyle="#FFF",ctx.fillRect(c.width-110,c.height-50,100,40),ctx.fillStyle="#000",ctx.font="24px "+font,ctx.textAlign="center",sT>0?ctx.fillText("Saved!",c.width-60,c.height-20):ctx.fillText("Save",c.width-60,c.height-20),sT>0&&sT--,aT--,aT<0&&save(),mute&&(ctx.fillStyle="#FFF",ctx.font="16px "+font,ctx.textAlign="left",ctx.fillText("Mute",12,c.height-12))}function r(a,b){return Math.floor(Math.random()*(b-a)+a)}function wl(a,b,c,d,e,f){this.color=a,this.radius=b,this.angle=c,this.speed=d,this.rn=e,this.maxSpeed=f}function btn(a,b,c,d,e,f,g){this.mywl=a,this.x=b,this.y=c,this.w=d,this.h=e,this.priceInc=f,this.priceBase=g,this.price=g,this.selected=!1}function getMax(){for(var a=0,b=0;b<ws.length;b++)ws[b].speed>0&&ws[b].angle>a&&(a=ws[b].angle);return Math.floor(50*a)+"%"}function output(a){if(a>1e9){for(var b=0;a>10;)a/=10,b++;return Math.round(100*a)/100+"E"+b}return Math.round(100*a)/100}function onclick(a,b){for(var d=0;d<btns.length;d++)btns[d].click(a,b);c.width-110<a&&a<c.width-10&&c.height-50<b&&b<c.height-10&&save()}function save(){if("undefined"!=typeof Storage){aT=1e4,sT=100;for(var a=[],b=[],c=[],d=0;d<ws.length;d++)a.push(ws[d].angle),b.push(ws[d].rn),c.push(ws[d].speed);localStorage.setItem("save",score+","+exponent+","+a+","+b+","+c)}try{kongregate.stats.submit("Score",Math.log10(score)),kongregate.stats.submit("Income",Math.log10(totalPerSec)),kongregate.stats.submit("Ascensions",Math.log10(exponent))}catch(a){console.log("Could not submit score to Kongregate.")}}function oncontext(a,b){for(var c=0;c<btns.length;c++)btns[c].context(a,b)}function move(a,b){for(var d=0;d<btns.length;d++)btns[d].hover(a,b);sH=c.width-110<a&&a<c.width-10&&c.height-50<b&&b<c.height-10}kongregateAPI.loadAPI(function(){try{window.kongregate=kongregateAPI.getAPI()}catch(a){console.log("Could not load Kongregate API.")}});var score=0,perSec=1,exponent=0,totalPerSec=0,font="cq",sT=0,aT=500,ws=[new wl("#F00",60,0,10,0,1e3),new wl("#FF0",80,0,0,0,500),new wl("#0F0",100,0,0,0,333),new wl("#0FF",120,0,0,0,250),new wl("#00F",140,0,0,0,200),new wl("#F0F",160,0,0,0,150)],btns=[new btn(ws[0],10,50,100,40,1.03,1),new btn(ws[1],10,100,100,40,1.06,10),new btn(ws[2],10,150,100,40,1.09,100),new btn(ws[3],10,200,100,40,1.12,1e3),new btn(ws[4],10,250,100,40,1.15,1e4),new btn(ws[5],10,300,100,40,1.18,1e5)],sH=!1;wl.prototype.update=function(){ctx.strokeStyle=this.color,ctx.beginPath(),ctx.arc(c.width/2,c.height/2,this.radius,0,this.angle*Math.PI),ctx.stroke(),this.angle+=this.speed/1e4,this.angle>2&&(this.angle=0,this.rn++,score+=totalPerSec)},btn.prototype.update=function(){if(this.price=this.priceBase*Math.pow(this.priceInc,this.mywl.speed),this.selected){var a=2;ctx.fillStyle="#FFF",this.mywl.speed<this.mywl.maxSpeed&&score<this.price&&(ctx.fillStyle="#F66"),ctx.fillRect(this.x-a,this.y-a,this.w+a+a,this.h+a+a),c.style.cursor="pointer"}ctx.fillStyle=this.mywl.color,ctx.fillRect(this.x,this.y,this.w,this.h),ctx.font="16px "+font,ctx.fillStyle="#000",ctx.textAlign="center",this.mywl.speed<this.mywl.maxSpeed?(ctx.fillText("+Speed "+output(this.mywl.speed/this.mywl.maxSpeed*100)+"%",this.x+this.w/2,this.y+16),ctrl?ctx.fillText("Buy All",this.x+this.w/2,this.y+36):ctx.fillText("$"+output(this.price),this.x+this.w/2,this.y+36)):(ctx.fillText("+Exponent",this.x+this.w/2,this.y+16),ctx.fillText("Reset-RClick",this.x+this.w/2,this.y+36))},btn.prototype.click=function(a,b){if(this.x<a&&a<this.x+this.w&&this.y<b&&b<this.y+this.h){if(ctrl)for(;score>=this.price&&this.mywl.speed<this.mywl.maxSpeed;)score-=this.price,this.mywl.speed++,this.price=this.priceBase*Math.pow(this.priceInc,this.mywl.speed);this.mywl.speed<this.mywl.maxSpeed&&score>=this.price&&(score-=this.price,this.mywl.speed++,this.price=this.priceBase*Math.pow(this.priceInc,this.mywl.speed))}},btn.prototype.context=function(a,b){this.x<a&&a<this.x+this.w&&this.y<b&&b<this.y+this.h&&this.mywl.speed>=this.mywl.maxSpeed&&(this.mywl.angle=0,this.mywl.speed=0,this.mywl.rn=0,exponent++)},btn.prototype.hover=function(a,b){this.selected=this.x<a&&a<this.x+this.w&&this.y<b&&b<this.y+this.h},start();